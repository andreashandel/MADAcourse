<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Andreas Handel" />


<title>Visualization Overview</title>

<script src="site_libs/header-attrs-2.9/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link rel="icon" type="image/png" href="media/MADAlogo.png" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>






<link rel="stylesheet" href="MADAstyle.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">MADA Course</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    General Information
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./Course_Syllabus.html">Syllabus</a>
    </li>
    <li>
      <a href="./Course_Schedule.html">Schedule</a>
    </li>
    <li>
      <a href="./Course_Communication.html">Communication</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Modules
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Course and Tools Introduction</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./Introduction_Course.html">Course Introduction</a>
        </li>
        <li>
          <a href="./Tools_RandRStudio.html">R and Rstudio</a>
        </li>
        <li>
          <a href="./Tools_Github_Introduction.html">GitHub Introduction</a>
        </li>
        <li>
          <a href="./Tools_Github_R_Workflow.html">GitHub and R Workflow</a>
        </li>
        <li>
          <a href="./Tools_Reproducibility.html">RMarkdown &amp; Co</a>
        </li>
        <li>
          <a href="./Tools_Reference_Management.html">Reference Management</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Data Analysis Introduction</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./Data_Analysis_Motivation.html">Motivating Examples</a>
        </li>
        <li>
          <a href="./Data_Analysis_Overview.html">Data Analysis Overview</a>
        </li>
        <li>
          <a href="./Data_Analysis_Structure.html">Data Analysis Structure</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">R basics</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./RBasics.html">R basics</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Pondering and getting data</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./5a_Data_Types.html">5a. Data Types</a>
        </li>
        <li>
          <a href="./5b_Getting_Data.html">5b. Getting Data</a>
        </li>
        <li>
          <a href="./5c_Assessment.html">5c. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">6. Data wrangling &amp; Tidyverse</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./6a_Data_Wrangling_Tidyverse.html">6a. Data wrangling &amp; Tidyverse</a>
        </li>
        <li>
          <a href="./6b_Assessment.html">6b. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">7. Visualization</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./7a_Visualization_Overview.html">7a. Visualization Overview</a>
        </li>
        <li>
          <a href="./7b_Visualization_in_R.html">7b. Visualization in R</a>
        </li>
        <li>
          <a href="./7c_Assessment.html">7c. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">8. Pre-processing Data</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./8a_Preprocessing_Data.html">8a. Pre-processing data</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">9. Model fitting overview</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./9a_Model_Fitting_Overview.html">9a. Model fitting overview</a>
        </li>
        <li>
          <a href="./9b_Model_Fitting_Terminology.html">9b. Model Fitting Terminology</a>
        </li>
        <li>
          <a href="./9c_Model_Fitting_Supervised.html">9c. Supervised Modeling</a>
        </li>
        <li>
          <a href="./9d_Assessment.html">9d. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">10. Model assessment</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./10a_Model_Assessment_Overview.html">10a. Model Assessment overview</a>
        </li>
        <li>
          <a href="./10b_Model_Performance.html">10b. Model Performance</a>
        </li>
        <li>
          <a href="./10c_Model_Diagnostics.html">10c. Model Diagostics</a>
        </li>
        <li>
          <a href="./10d_Model_Uncertainty.html">10d. Model Uncertainty</a>
        </li>
        <li>
          <a href="./10e_Assessment.html">10e. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">11. Basic models</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./11a_Basic_Models.html">11a. Basic Models</a>
        </li>
        <li>
          <a href="./11b_Assessment.html">11b. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">12. Subset selection and regularization</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./12a_Subset_Selection_and_Regularization.html">12a. Subset selection and regularization</a>
        </li>
        <li>
          <a href="./12b_Assessment.html">12b. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">13. Tree-based models and tuning</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./13a_Parameter_Tuning.html">13a. Parameter tuning</a>
        </li>
        <li>
          <a href="./13b_Tree_based_Models.html">13b. Tree based Models</a>
        </li>
        <li>
          <a href="./13c_Assessment.html">13c. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">14. More ML models and interpretation</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./14a_More_ML_Models.html">14a. More ML Models</a>
        </li>
        <li>
          <a href="./14b_Model_Interpretation.html">14b. Model Interpretation</a>
        </li>
        <li>
          <a href="./14c_Assessment.html">14c. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">15. Revisiting the complete analysis workflow</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./15a_Complete_data_analysis_workflow.html">15a. Complete data analysis workflow</a>
        </li>
        <li>
          <a href="./15b_Assessment.html">15b. Assessment</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">16. Deep learning, AI and Big data</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./16a_DL_AI_BigData.html">16a. Deep Learning, AI and Big Data</a>
        </li>
        <li>
          <a href="./16b_Assessment.html">16b. Assessment</a>
        </li>
      </ul>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Assessments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./Assessment_Course_Tools_Introduction.html">Course and Tools Introduction</a>
    </li>
    <li>
      <a href="./Assessment_Data_Analysis.html">Data Analysis Introduction</a>
    </li>
    <li>
      <a href="./Assessment_Coding.html">R Coding</a>
    </li>
    <li>
      <a href="./Exercise_Github_Issues.html">Github Issues</a>
    </li>
    <li>
      <a href="./Exercise_Tidyverse.html">Tidyverse</a>
    </li>
    <li>
      <a href="./Exercise_Visualization.html">Visualization</a>
    </li>
    <li>
      <a href="./Exercise_Tidy_Tuesday_1.html">TidyTuesday 1</a>
    </li>
    <li>
      <a href="./Exercise_Dataanalysis.html">Data Analysis</a>
    </li>
    <li>
      <a href="./Exercise_Variable_Selection.html">Variable Selection</a>
    </li>
    <li>
      <a href="./Exercise_Tree_Fitting.html">Tree Fitting</a>
    </li>
    <li>
      <a href="./Exercise_Tidy_Tuesday_2.html">TidyTuesday 2</a>
    </li>
    <li>
      <a href="./Exercise_Deep_Learning.html">Deep Learning</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Project
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./Project_Information.html">Project information</a>
    </li>
    <li>
      <a href="./Project_Rubric.html">Project rubric</a>
    </li>
    <li>
      <a href="./Project_Review.html">Project review</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./Course_Resources.html">Course Resources</a>
    </li>
    <li>
      <a href="./General_Resources.html">General Resources</a>
    </li>
    <li>
      <a href="./Course_Glossary.html">Glossary</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Visualization Overview</h1>
<h4 class="author">Andreas Handel</h4>
<h4 class="date">2021-03-25 08:29:29</h4>

</div>


<div id="overview" class="section level1">
<h1>Overview</h1>
<p>In this unit, we will discuss visualization (a.k.a. making figures), what they are good for, and how to do them in R.</p>
<div class="figure" style="text-align: center">
<img src="media/xkcd-flowcharts.png" alt="Flowcharts are sometimes, but not always good visualization tools. Source: xkcd.com." width="60%" />
<p class="caption">
Flowcharts are sometimes, but not always good visualization tools. Source: xkcd.com.
</p>
</div>
</div>
<div id="objectives" class="section level1">
<h1>Objectives</h1>
<ul>
<li>Understand when and how to use graphs.</li>
<li>Be familiar with major types of graphs and when to use them.</li>
<li>Know how to implement high-quality graphs in R.</li>
</ul>
</div>
<div id="motivating-examples" class="section level1">
<h1>Motivating Examples</h1>
<p>The topic of visualization is enormous and impossible to cover thoroughly in a week (like pretty much any topic we talk about in this course 😃). To get you started, the two following TED talks provide some examples of interesting and inspiring data visualizations.</p>
<p>In the first video <a href="https://monachalabi.com/">Mona Chalabi</a> talks about good ways to present data and statistics and how good graphs can help in understanding.</p>
<div style="max-width:854px">
<div style="position:relative;height:0;padding-bottom:56.25%">
<iframe src="https://embed.ted.com/talks/mona_chalabi_3_ways_to_spot_a_bad_statistic" width="854" height="480" style="position:absolute;left:0;top:0;width:100%;height:100%" frameborder="0" scrolling="no" allowfullscreen>
</iframe>
</div>
</div>
<p><br></p>
<p>In the second video <a href="https://monachalabi.com/">Chris Jordan</a> discusses how one can take abstract facts and make them much more tangible through visualization.</p>
<div style="max-width:854px">
<div style="position:relative;height:0;padding-bottom:56.25%">
<iframe src="https://embed.ted.com/talks/lang/en/chris_jordan_pictures_some_shocking_stats" width="854" height="480" style="position:absolute;left:0;top:0;width:100%;height:100%" frameborder="0" scrolling="no" allowfullscreen>
</iframe>
</div>
</div>
<p><br></p>
<p><strong>I’ll ask you a few questions about those videos.</strong></p>
<p>If you are interested, you can find more interesting talks on visualization in this <a href="https://www.ted.com/topics/visualizations"><em>TED topics</em> site</a> and this <a href="http://www.ted.com/read/ted-studies/statistics"><em>TED Studies</em> collection</a>.</p>
</div>
<div id="visualization-uses" class="section level1">
<h1>Visualization uses</h1>
<p>Figures and graphs are useful at any stage of your analysis. Use them early to explore your data, to get an idea for what you have, what cleaning you might need to do, and what analysis approaches might be useful. Use them once you have done your analysis to check your results and interpret them. Use them at the end to communicate your results. While tables can be useful tools of communication as well, they tend to be much harder to understand and are - in my opinion - overused in science. Good figures are, most of the time easier to understand and more effective way to look at data.</p>
</div>
<div id="types-of-graphs" class="section level1">
<h1>Types of graphs</h1>
<p>I’m sure you are familiar with different graphs. Some are commonly used and widely overused (e.g., bar plots or pie charts), others are less frequently used (e.g., violin plots or hex bins). Instead of me providing summaries of different plots, read chapter 5 of the excellent <a href="https://serialmentor.com/dataviz/">Fundamentals of Data Visualization</a> by Claus Wilke. That chapter provides a quick overview of many common and useful plots. Further chapters in his book describe specific types of plots in more detail, and also provide general best practices for making plots. You should definitely read through those sections describing plots that interest you the most. Also, note that all the graphs in his book are made with ggplot2 and friends. He doesn’t show any code in the book, but if you dig through the Github repository for the book, you’ll likely be able to find code for specific figures.</p>
</div>
<div id="further-general-graphics-resources" class="section level1">
<h1>Further general graphics resources</h1>
<p>A great free book which discusses the principles of good data visualization is <a href="https://serialmentor.com/dataviz/">Fundamentals of Data Visualization</a>. The book is not R specific (and doesn’t show R code, but all figures are made in R).</p>
<p>And of course, there are always the books and resources by <a href="https://www.edwardtufte.com/tufte/">Edward Tufte</a>, one of the most influential people in the field of visualization (as far as I’m aware, his books are not freely available, you’ll have to pay or get them from the library).</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
